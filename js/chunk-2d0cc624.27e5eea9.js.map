{"version":3,"sources":["webpack:///./src/components/UpdateUser.vue?9b32","webpack:///src/components/UpdateUser.vue","webpack:///./src/components/UpdateUser.vue?36fc","webpack:///./src/components/UpdateUser.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","attrs","_s","errorMessage","_e","successMessage","currUser","name","model","value","callback","$$v","expression","surname","title","scopedSlots","_u","key","fn","ref","on","_g","fromUserBirthday","dateMenu","$event","birthday","email","newPassword","confirmNewPassword","deleteClicked","staticClass","isValid","updateClicked","staticRenderFns","props","created","computed","data","methods","deleteUser","then","console","log","error","user","password","updateUser","component","VAlert","VBtn","VContainer","VDatePicker","VForm","VMenu","VTextField"],"mappings":"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","file":"js/chunk-2d0cc624.27e5eea9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-form',[_c('h3',[_vm._v(\"Update Profile\")]),(_vm.errorMessage)?_c('v-alert',{attrs:{\"type\":\"error\",\"dismissible\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.errorMessage)+\" \")]):_vm._e(),(_vm.successMessage)?_c('v-alert',{attrs:{\"type\":\"success\",\"dismissible\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.successMessage)+\" \")]):_vm._e(),_c('v-container',[_c('v-text-field',{attrs:{\"type\":\"text\",\"placeholder\":_vm.currUser.name,\"outlined\":\"\",\"single-line\":\"\",\"clearable\":\"\",\"dense\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-text-field',{attrs:{\"type\":\"text\",\"placeholder\":_vm.currUser.surname,\"outlined\":\"\",\"single-line\":\"\",\"clearable\":\"\",\"dense\":\"\"},model:{value:(_vm.surname),callback:function ($$v) {_vm.surname=$$v},expression:\"surname\"}}),_c('v-text-field',{attrs:{\"type\":\"text\",\"placeholder\":_vm.currUser.title,\"outlined\":\"\",\"single-line\":\"\",\"clearable\":\"\",\"dense\":\"\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":40,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"outlined\":\"\",\"single-line\":\"\",\"clearable\":\"\",\"dense\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-text-field',_vm._g({attrs:{\"label\":\"Birthday\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\",\"value\":_vm.fromUserBirthday,\"outlined\":\"\",\"single-line\":\"\",\"dense\":\"\"}},on))]}}]),model:{value:(_vm.dateMenu),callback:function ($$v) {_vm.dateMenu=$$v},expression:\"dateMenu\"}},[_c('v-date-picker',{attrs:{\"locale\":\"en-in\",\"no-title\":\"\"},on:{\"input\":function($event){_vm.dateMenu = false}},model:{value:(_vm.birthday),callback:function ($$v) {_vm.birthday=$$v},expression:\"birthday\"}})],1),_c('v-text-field',{attrs:{\"type\":\"email\",\"placeholder\":_vm.currUser.email,\"outlined\":\"\",\"single-line\":\"\",\"clearable\":\"\",\"dense\":\"\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('v-text-field',{attrs:{\"type\":\"password\",\"placeholder\":\"New Password\",\"outlined\":\"\",\"single-line\":\"\",\"dense\":\"\",\"clearable\":\"\"},model:{value:(_vm.newPassword),callback:function ($$v) {_vm.newPassword=$$v},expression:\"newPassword\"}}),_c('v-text-field',{attrs:{\"type\":\"password\",\"placeholder\":\"Confirm New Password\",\"outlined\":\"\",\"single-line\":\"\",\"dense\":\"\",\"clearable\":\"\"},model:{value:(_vm.confirmNewPassword),callback:function ($$v) {_vm.confirmNewPassword=$$v},expression:\"confirmNewPassword\"}})],1),_c('v-btn',{attrs:{\"color\":\"warning\"},on:{\"click\":_vm.deleteClicked}},[_vm._v(\" Delete \")]),_c('v-btn',{staticClass:\"pl-2\",attrs:{\"disabled\":!_vm.isValid,\"color\":\"primary\"},on:{\"click\":_vm.updateClicked}},[_vm._v(\" Update \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-form>\n      <h3>Update Profile</h3>\n\n      <v-alert\n        v-if=\"errorMessage\"\n        type=\"error\"\n        dismissible\n      >\n        {{ errorMessage }} \n      </v-alert>\n\n      <v-alert\n        v-if=\"successMessage\"\n        type=\"success\"\n        dismissible\n      >\n        {{ successMessage }} \n      </v-alert>\n\n      <v-container>\n        <v-text-field\n          v-model=\"name\"\n          type=\"text\"\n          :placeholder=\"currUser.name\"\n          outlined\n          single-line\n          clearable\n          dense\n        />\n        <v-text-field\n          v-model=\"surname\"\n          type=\"text\"\n          :placeholder=\"currUser.surname\"\n          outlined\n          single-line\n          clearable\n          dense\n        />\n        <v-text-field\n          v-model=\"title\"\n          type=\"text\"\n          :placeholder=\"currUser.title\"\n          outlined\n          single-line\n          clearable\n          dense\n        />\n        <v-menu\n          v-model=\"dateMenu\"\n          :close-on-content-click=\"false\"\n          :nudge-right=\"40\"\n          transition=\"scale-transition\"\n          offset-y\n          outlined\n          single-line\n          clearable\n          dense\n        >\n          <template v-slot:activator=\"{ on }\">\n            <v-text-field\n              label=\"Birthday\"\n              prepend-icon=\"mdi-calendar\"\n              readonly\n              :value=\"fromUserBirthday\"\n              outlined\n              single-line\n              dense\n              v-on=\"on\"\n            ></v-text-field>\n          </template>\n          <v-date-picker\n            locale=\"en-in\"\n            v-model=\"birthday\"\n            no-title\n            @input=\"dateMenu = false\"\n          ></v-date-picker>\n        </v-menu>\n        <v-text-field\n          v-model=\"email\"\n          type=\"email\"\n          class=\"\"\n          :placeholder=\"currUser.email\"\n          outlined\n          single-line\n          clearable\n          dense\n        />\n        <v-text-field\n          v-model=\"newPassword\"\n          type=\"password\"\n          class=\"\"\n          placeholder=\"New Password\"\n          outlined\n          single-line\n          dense\n          clearable\n        />\n        <v-text-field\n          v-model=\"confirmNewPassword\"\n          type=\"password\"\n          class=\"\"\n          placeholder=\"Confirm New Password\"\n          outlined\n          single-line\n          dense\n          clearable\n        />\n      </v-container>\n\n      <v-btn\n        @click=\"deleteClicked\"\n        color=\"warning\"\n      >\n      Delete\n      </v-btn>\n\n      <v-btn\n        :disabled=\"!isValid\"\n        color=\"primary\"\n        class=\"pl-2\"\n        @click=\"updateClicked\"\n      >\n      Update\n      </v-btn>\n    </v-form>\n  </v-container>\n</template>\n\n<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport Moment from 'moment'\nexport default {\n  name: 'UpdateUser',\n  props: {\n  },\n  created() {},\n  computed: {    \n    ...mapGetters({ currUser: \"auth/currentUser\" }),\n    fromUserBirthday() {\n      if (!this.birthday) {\n        return new Moment(this.currUser.birthday).format(\"DD MMMM YYYY\");\n      } else {\n        return new Moment(this.birthday).format(\"DD MMMM YYYY\");\n      }\n    },\n    isValid() {\n      if (this.newPassword && this.newPassword !== this.confirmNewPassword) {\n        return false\n      } else return true\n    }\n  },\n  data() {\n    return {\n      name: \"\",\n      surname: \"\",\n      title: \"\",\n      birthday: \"\",\n      email: \"\",\n      newPassword: \"\",\n      errorMessage: \"\",\n      confirmNewPassword: \"\",\n      dateMenu: false,\n      successMessage: \"\",\n    };\n  },\n  methods: {\n    ...mapActions({ deleteUser: \"auth/deleteUser\"}),\n    ...mapActions({ updateUser: \"auth/updateUser\"}),\n    ...mapActions({ setUser: \"auth/setUser\"}),\n    deleteClicked() {\n      this.deleteUser().then(() => {\n        this.$router.push({ name: \"login\"})\n      })\n      .catch(error => {\n        console.log(error)\n        this.errorMessage = \"Cannot delete user. please try again.\";\n      });\n    },\n    updateClicked() {\n      let user = {}\n      user.name = this.name ? this.name : this.currUser.name\n      user.surname = this.surname ? this.surname : this.currUser.surname\n      user.title = this.title ? this.title : this.currUser.title\n      user.birthday = this.birthday ? this.birthday : this.currUser.birthday\n      user.email = this.email ? this.email : this.currUser.email\n      \n      if (this.newPassword) user.password = this.newPassword\n      console.log('updateClicked: ',user)\n      this.updateUser(user)\n        .then((response) => {\n          console.log('updateUser res: ', response)\n          this.successMessage = \"update successful\"\n          this.$router.push({ name: \"home\" });\n        })\n        .catch(error => {\n          console.log(error)\n          this.errorMessage = \"Cannot update user. please try again.\";\n        });\n    }\n  }\n};\n</script>\n<style lang=\"sass\"></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpdateUser.vue?vue&type=template&id=49682ef4&\"\nimport script from \"./UpdateUser.vue?vue&type=script&lang=js&\"\nexport * from \"./UpdateUser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VContainer,VDatePicker,VForm,VMenu,VTextField})\n"],"sourceRoot":""}